procs:
  postgres:
    cwd: "."
    autostart: false
    shell: "docker-compose up postgres"
    stop: "SIGTERM"

  api:
    cwd: "./fluid"
    autostart: false
    shell: 'go build --tags libvirt -ldflags="-s -w" -o bin/fluid ./cmd/fluid && bin/fluid'

  frontend:
    cwd: "./web"
    autostart: false
    shell: "bun dev"

  list-sandboxes:
    cwd: "."
    autostart: false
    shell: "virsh -c qemu:///session list --all"

  cleanup-sandboxes:
    cwd: "."
    autostart: false
    shell: "./scripts/cleanup-vms.sh"
